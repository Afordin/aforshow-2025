---
import { createClient } from "@supabase/supabase-js";

const supabase = createClient(
    import.meta.env.PUBLIC_SUPABASE_URL,
    import.meta.env.PUBLIC_SUPABASE_ANON_KEY,
);

const { username } = Astro.params;

const ogImageUrl = `${Astro.site}api/og/${username}`;
---

<html lang="es">
    <head>
        <title>Ticket de {username}</title>
        <meta property="og:title" content={`Ticket de ${username}`} />
        <meta
            property="og:description"
            content="Â¡Mira tu ticket personalizado!"
        />
        <meta property="og:image" content={ogImageUrl} />
        <meta property="og:type" content="website" />
        <meta name="twitter:card" content="summary_large_image" />
    </head>
    <body>
        <h1>Hola {username}</h1>
        <img src={ogImageUrl} alt="Vista previa del ticket" width="600" />
    </body>
</html>
